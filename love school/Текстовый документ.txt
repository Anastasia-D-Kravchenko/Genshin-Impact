// var d = document,
//     dataBox = d.querySelectorAll('.data-box'), // блок каждого товара
// 		cartContent = d.getElementById('cart_content'); // блок вывода данных корзины
// // Функция кроссбраузерная установка обработчика событий
// function addElem(elem, type, handler){
//   if(elem.addEventListener){
//     elem.addEventListener(type, handler, false);
//   } else {
//     elem.attachEvent('on'+type, function(){ handler.call( elem ); });
//   }
//   return false;
// }
// // Получаем данные из LocalStorage
// function getCartData(){
// 	return JSON.parse(localStorage.getItem('cart'));
// }
// // Записываем данные в LocalStorage
// function setCartData(o){
// 	localStorage.setItem('cart', JSON.stringify(o));
// 	return false;
// }
// // Добавляем товар в корзину
// function addToCart(e){
// 	this.disabled = true; // блокируем кнопку на время операции с корзиной
// 	var cartData = getCartData() || {}, // получаем данные корзины или создаём новый объект, если данных еще нет
// 			parentBox = this.parentNode, // родительский элемент кнопки &quot;Добавить в корзину&quot;
// 			itemId = this.getAttribute('data-id'), // ID товара
// 			dataTitle = parentBox.querySelector('.data_title').innerHTML, // название товара
// 			dataImg = this.getAttribute('data-img'),//изображение товара
// 			dataImg = '<img src="'+dataImg+'" id="im">';
// 			// dataPrice = parentBox.querySelector('.data_price').innerHTML; // стоимость товара
// 	if(cartData.hasOwnProperty(itemId)){ // если такой товар уже в корзине, то добавляем +1 к его количеству
// 		cartData[itemId][2] += 1;
// 		//cartData[itemId][1] = parentBox.querySelector('.data_price').innerHTML * cartData[itemId][2];
// 	} else { // если товара в корзине еще нет, то добавляем в объект
// 		cartData[itemId] = [dataImg,dataTitle, 1];//dataPrice
// 	}
// 	// Обновляем данные в LocalStorage
// 	if(!setCartData(cartData)){ 
// 		this.disabled = false; // разблокируем кнопку после обновления LS
// 		cartContent.innerHTML = 'Товар добавлен в корзину.';
// 	}
// 	return false;
// }
// // Устанавливаем обработчик события на каждую кнопку &quot;Добавить в корзину&quot;
// for(var i = 0; i < dataBox.length; i++){
// 	addElem(dataBox[i].querySelector('.add_data'), 'click', addToCart);
// }
// // Открываем корзину со списком добавленных товаров
// function openCart(e){
// 	var cartData = getCartData(), // вытаскиваем все данные корзины
// 			totalItems = '';
// 	// console.log(JSON.stringify(cartData));
// 	// если что-то в корзине уже есть, начинаем формировать данные для вывода
// 	if(cartData !== null){
// 		totalItems = '<table class="shopping_list"><div id="wa">Wishbasket</div></tr>';
// 		for(var items in cartData){
// 			totalItems += '<tr id="mm">';
// 			for(var i = 0; i < cartData[items].length; i++){
// 				if(i != cartData[items].length-1){
// 				totalItems += '<td>' + cartData[items][i] + '</td>';
// 				}else{
// 					totalItems += '<td>' + cartData[items][i] + '<button id="fm" class="del_item" data-id="'+ items +'">X</button></td>';
// 				}
// 			}
// 			totalItems += '</tr>';
// 		}
// 		totalItems += '</table><div id="evry"><button id="clear_cart">Подсчитать результаты</button>&nbsp;<button id="cose" onclick="cose()">Закрыть корзину</button> </div>';
// 		cartContent.innerHTML = totalItems;
// 		d.querySelector("#cart_content").style.padding = "0";
// 	} else {
// 		// если в корзине пусто, то сигнализируем об этом
// 		cartContent.innerHTML = 'В корзине пусто!';
// 		d.querySelector("#cart_content").style.padding = "50px 0";
// 	}
// 	return false;
// }
// function closest(el, sel) {
// 	if (el !== null)
// 	return el.matches(sel) ? el : (el.querySelector(sel) || closest(el.parentNode, sel));
// }
// // function qwerty(i) {
// // 	localStorage.removeItem('cart');
// // 	cartContent.innerHTML = 'Корзина желаний пуста.';
// // 	cose();
// // }
// /* Открыть корзину */
// addElem(d.getElementById('checkout'), 'click', openCart);
// function op(){
// 	d.querySelector("#cart_content").style.display = "flex";
// 	d.querySelector(".jqcart-layout").style.display = "flex";
// 	d.querySelector("#clear_cart").classList.add("new");
// 	d.querySelector("#cose").classList.add("new1");
// 	d.querySelector("#evry").classList.add("cle");
// }
// /* Закрыть корзину */
// function cose() {
// 		d.querySelector("#cart_content").style.display = "none";
// 		d.querySelector(".jqcart-layout").style.display = "none";
// 		d.querySelector("#clear_cart").classList.remove("new");
// 		d.querySelector("#cose").classList.remove("new1");
// 		d.querySelector("#evry").classList.remove("cle");
// }
// /* Очистить корзину */
// addElem(d.getElementById('clear_cart'), 'click', function(e){
// 	localStorage.removeItem('cart');
// 	cartContent.innerHTML = 'Корзина очишена.';
// });
// /* Удаление из корзины */
// addEvent(d.body, 'click', function(e){
// 	if(e.target.className === 'del_item') {
// 		var itemId = e.target.getAttribute('data-id'),
// 		cartData = getCartData();
// 		if(cartData.hasOwnProperty(itemId)){
// 			var tr = closest(e.target, 'tr');
// 			tr.parentNode.removeChild(tr); /* Удаляем строку товара из таблицы */
// 			delete cartData[itemId]; // удаляем товар из объекта
// 			setCartData(cartData); // перезаписываем измененные данные в localStorage
// 		}
// 	}
// }, false);